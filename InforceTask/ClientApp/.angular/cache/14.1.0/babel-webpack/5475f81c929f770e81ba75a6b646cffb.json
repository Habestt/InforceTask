{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/pasha/source/repos/InforceTask/InforceTask/ClientApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ngrx/store\";\nimport * as i3 from \"@angular/common/http\";\nexport class UrlInfoComponent {\n  constructor(router, store, http) {\n    this.router = router;\n    this.store = store;\n    this.http = http;\n    this.check = this.router.getCurrentNavigation()?.extras.state;\n\n    if (Object.keys(this.check).length == 1) {\n      this.getInfo();\n    } else {\n      this.url = this.check;\n    }\n  }\n\n  getInfo() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.http.get(environment.Url + 'url/GetByOriginalUrl/' + _this.check.OriginalUrl).subscribe(result => _this.url = result);\n      console.log(_this.check.originalUrl);\n    })();\n  }\n\n}\n\nUrlInfoComponent.ɵfac = function UrlInfoComponent_Factory(t) {\n  return new (t || UrlInfoComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i3.HttpClient));\n};\n\nUrlInfoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UrlInfoComponent,\n  selectors: [[\"app-url-info\"]],\n  decls: 19,\n  vars: 3,\n  consts: [[\"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-striped\"]],\n  template: function UrlInfoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"URL info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"table\", 0)(3, \"thead\")(4, \"tr\")(5, \"th\");\n      i0.ɵɵtext(6, \"URL\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \"Shorted URL\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\");\n      i0.ɵɵtext(10, \"Created date\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"tbody\")(12, \"tr\")(13, \"td\");\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"td\");\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"td\");\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵtextInterpolate(ctx.url.originalUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.url.shortUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.url.createdAt);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":";AAQA,SAASA,WAAT,QAA4B,8BAA5B;;;;;AAMA,OAAM,MAAOC,gBAAP,CAAuB;EAI3BC,YAAoBC,MAApB,EAA4CC,KAA5C,EAA4EC,IAA5E,EAA4F;IAAxE;IAAwB;IAAgC;IAC1E,KAAKC,KAAL,GAAa,KAAKH,MAAL,CAAYI,oBAAZ,IAAoCC,MAApC,CAA2CC,KAAxD;;IAEA,IAAIC,MAAM,CAACC,IAAP,CAAY,KAAKL,KAAjB,EAAwBM,MAAxB,IAAkC,CAAtC,EAAyC;MACvC,KAAKC,OAAL;IACD,CAFD,MAEO;MACL,KAAKC,GAAL,GAAW,KAAKR,KAAhB;IACD;EACF;;EAEKO,OAAO;IAAA;;IAAA;MACT,MAAM,KAAI,CAACR,IAAL,CAAUU,GAAV,CAAcf,WAAW,CAACgB,GAAZ,GAAkB,uBAAlB,GAA4C,KAAI,CAACV,KAAL,CAAWW,WAArE,EAAkFC,SAAlF,CAA4FC,MAAM,IAAI,KAAI,CAACL,GAAL,GAAWK,MAAjH,CAAN;MACAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACf,KAAL,CAAWgB,WAAvB;IAFS;EAGZ;;AAjB0B;;;mBAAhBrB,kBAAgBsB;AAAA;;;QAAhBtB;EAAgBuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd7BL;MAAIA;MAAQA;MAEZA,iCAAgE,CAAhE,EAAgE,OAAhE,EAAgE,CAAhE,EAAgE,IAAhE,EAAgE,CAAhE,EAAgE,IAAhE;MAGUA;MAAGA;MACPA;MAAIA;MAAWA;MACfA;MAAIA;MAAYA;MAGpBA,+BAAO,EAAP,EAAO,IAAP,EAAO,EAAP,EAAO,IAAP;MAEQA;MAAqBA;MACzBA;MAAIA;MAAkBA;MACtBA;MAAIA;MAAmBA;;;;MAFnBA;MAAAA;MACAA;MAAAA;MACAA;MAAAA","names":["environment","UrlInfoComponent","constructor","router","store","http","check","getCurrentNavigation","extras","state","Object","keys","length","getInfo","url","get","Url","OriginalUrl","subscribe","result","console","log","originalUrl","i0","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\pasha\\source\\repos\\InforceTask\\InforceTask\\ClientApp\\src\\app\\pages\\url-info\\url-info.component.ts","C:\\Users\\pasha\\source\\repos\\InforceTask\\InforceTask\\ClientApp\\src\\app\\pages\\url-info\\url-info.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Store } from '@ngrx/store';\r\nimport { Url } from 'src/app/global/models/url';\r\nimport { AppState } from 'src/app/state/app.state';\r\nimport { loadUrls } from 'src/app/state/url/url.actions';\r\nimport { getUrlByOriginalUrl, getUrls } from 'src/app/state/url/url.selector';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-url-info',\r\n  templateUrl: './url-info.component.html',\r\n})\r\nexport class UrlInfoComponent {\r\n  url: any;\r\n  check: any;\r\n\r\n  constructor(private router: Router, private store: Store<AppState>, private http: HttpClient) {\r\n    this.check = this.router.getCurrentNavigation()?.extras.state;\r\n\r\n    if (Object.keys(this.check).length == 1) {\r\n      this.getInfo();\r\n    } else {\r\n      this.url = this.check\r\n    }\r\n  }\r\n\r\n  async getInfo(){\r\n      await this.http.get(environment.Url + 'url/GetByOriginalUrl/' + this.check.OriginalUrl).subscribe(result => this.url = result);\r\n      console.log(this.check.originalUrl);\r\n  }\r\n}\r\n","<h1>URL info</h1>\r\n\r\n<table class=\"table table-striped\" aria-labelledby=\"tableLabel\">\r\n  <thead>\r\n    <tr>\r\n      <th>URL</th>\r\n      <th>Shorted URL</th>\r\n      <th>Created date</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr>\r\n      <td>{{ url.originalUrl }}</td>\r\n      <td>{{ url.shortUrl }}</td>\r\n      <td>{{ url.createdAt }}</td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}