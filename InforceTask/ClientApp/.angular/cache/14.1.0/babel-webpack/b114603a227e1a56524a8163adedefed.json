{"ast":null,"code":"import { getErrorMessage } from 'src/app/store/shared/shared.selector';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/services/url.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ShortURLComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const error_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", error_r5, \"\\n\");\n  }\n}\n\nfunction ShortURLComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \"URL is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ShortURLComponent_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12);\n    i0.ɵɵtext(1, \"URL is invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class ShortURLComponent {\n  constructor(store, urlService) {\n    this.store = store;\n    this.urlService = urlService;\n    this.errorMessage = this.store.select(getErrorMessage);\n  }\n\n  Add(originalUrl) {\n    this.urlService.addUrls(originalUrl).subscribe();\n  }\n\n}\n\nShortURLComponent.ɵfac = function ShortURLComponent_Factory(t) {\n  return new (t || ShortURLComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.UrlsService));\n};\n\nShortURLComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShortURLComponent,\n  selectors: [[\"app-short-url\"]],\n  decls: 17,\n  vars: 6,\n  consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-6\", \"offset-md-3\"], [3, \"ngSubmit\"], [\"urlForm\", \"ngForm\"], [1, \"mb-3\"], [\"type\", \"url\", \"ngModel\", \"\", \"name\", \"originalUrl\", \"require\", \"\", \"placeholder\", \"Entre URL\", 1, \"form-control\"], [\"url\", \"ngModel\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"d-grid\", \"gap-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"alert\", \"alert-danger\"], [1, \"error\"]],\n  template: function ShortURLComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵtemplate(0, ShortURLComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"h1\");\n      i0.ɵɵtext(5, \"URL shorter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"hr\");\n      i0.ɵɵelementStart(7, \"form\", 3, 4);\n      i0.ɵɵlistener(\"ngSubmit\", function ShortURLComponent_Template_form_ngSubmit_7_listener() {\n        i0.ɵɵrestoreView(_r6);\n\n        const _r1 = i0.ɵɵreference(8);\n\n        return i0.ɵɵresetView(ctx.Add(_r1.value));\n      });\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵelement(10, \"input\", 6, 7);\n      i0.ɵɵtemplate(12, ShortURLComponent_span_12_Template, 2, 0, \"span\", 8);\n      i0.ɵɵtemplate(13, ShortURLComponent_span_13_Template, 2, 0, \"span\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 9)(15, \"button\", 10);\n      i0.ɵɵtext(16, \"Short\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(8);\n\n      const _r2 = i0.ɵɵreference(11);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 4, ctx.errorMessage));\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngIf\", (_r2.errors == null ? null : _r2.errors.required) && _r2.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (_r2.errors == null ? null : _r2.errors.url) && _r2.touched);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", _r1.invalid);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm, i3.AsyncPipe],\n  styles: [\".error[_ngcontent-%COMP%] {\\r\\n  color: rgb(212, 33, 33);\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNob3J0LXVybC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUJBQXVCO0FBQ3pCIiwiZmlsZSI6InNob3J0LXVybC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmVycm9yIHtcclxuICBjb2xvcjogcmdiKDIxMiwgMzMsIDMzKTtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,eAAT,QAAgC,sCAAhC;;;;;;;;;ICLAC;IACEA;IACFA;;;;;IADEA;IAAAA;;;;;;IAiBMA;IACGA;IAAeA;;;;;;IAElBA;IACGA;IAAcA;;;;ADVzB,OAAM,MAAOC,iBAAP,CAAwB;EAE5BC,YAAoBC,KAApB,EAAoDC,UAApD,EAA2E;IAAvD;IAAgC;IAClD,KAAKC,YAAL,GAAoB,KAAKF,KAAL,CAAWG,MAAX,CAAkBP,eAAlB,CAApB;EACD;;EAEDQ,GAAG,CAACC,WAAD,EAAoB;IACrB,KAAKJ,UAAL,CAAgBK,OAAhB,CAAwBD,WAAxB,EAAqCE,SAArC;EACD;;AAR2B;;;mBAAjBT,mBAAiBD;AAAA;;;QAAjBC;EAAiBU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MCZ9Bf;;MAGAA,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,IAAjB;MAEQA;MAAWA;MACfA;MACAA;MAAwBA;QAAAA;;QAAA;;QAAA,OAAYA,kCAAZ;MAA8B,CAA9B;MACtBA;MACEA;MASAA;MAGAA;MAGFA;MACAA,gCAA0B,EAA1B,EAA0B,QAA1B,EAA0B,EAA1B;MAC6EA;MAAKA;;;;;;;;MA1BvDA;MAkBJA;MAAAA;MAGAA;MAAAA;MAKyBA;MAAAA","names":["getErrorMessage","i0","ShortURLComponent","constructor","store","urlService","errorMessage","select","Add","originalUrl","addUrls","subscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\pasha\\source\\repos\\InforceTask\\InforceTask\\ClientApp\\src\\app\\url\\pages\\short-url\\short-url.component.ts","C:\\Users\\pasha\\source\\repos\\InforceTask\\InforceTask\\ClientApp\\src\\app\\url\\pages\\short-url\\short-url.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable } from 'rxjs';\r\nimport { UrlsService } from 'src/app/services/url.service';\r\nimport { AppState } from 'src/app/store/app.state';\r\nimport { getErrorMessage } from 'src/app/store/shared/shared.selector';\r\n\r\n@Component({\r\n  selector: 'app-short-url',\r\n  templateUrl: './short-url.component.html',\r\n  styleUrls: ['./short-url.component.css'],\r\n})\r\nexport class ShortURLComponent {\r\n  errorMessage: Observable<string>;\r\n  constructor(private store: Store<AppState>, private urlService: UrlsService) {\r\n    this.errorMessage = this.store.select(getErrorMessage);\r\n  }\r\n\r\n  Add(originalUrl: string) {\r\n    this.urlService.addUrls(originalUrl).subscribe();\r\n  }\r\n}\r\n","<div class=\"alert alert-danger\" *ngIf=\"errorMessage | async as error\">\r\n  {{ error }}\r\n</div>\r\n<div class=\"row\">\r\n  <div class=\"col-md-6 offset-md-3\">\r\n    <h1>URL shorter</h1>\r\n    <hr />\r\n    <form #urlForm=\"ngForm\" (ngSubmit)=\"Add(urlForm.value)\">\r\n      <div class=\"mb-3\">\r\n        <input\r\n          type=\"url\"\r\n          ngModel\r\n          name=\"originalUrl\"\r\n          class=\"form-control\"\r\n          require\r\n          #url=\"ngModel\"\r\n          placeholder=\"Entre URL\"\r\n        />\r\n        <span class=\"error\" *ngIf=\"url.errors?.required && url.touched\"\r\n          >URL is required</span\r\n        >\r\n        <span class=\"error\" *ngIf=\"url.errors?.url && url.touched\"\r\n          >URL is invalid</span\r\n        >\r\n      </div>\r\n      <div class=\"d-grid gap-2\">\r\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"urlForm.invalid\">Short</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module"}